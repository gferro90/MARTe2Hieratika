#! Generated by VisualDCT v2.6
#! DBDSTART
#! DBD("/home/ifmifmgr/topIFMIF/dbd/injector.dbd")
#! DBDEND


record(bo, LEBT:RC_PS:ON) {
  field(DESC, "Cde ON RC_PS")
  field(DTYP, "asynUInt32Digital")
  field(OMSL, "supervisory")
  field(ZNAM, "Off")
  field(ONAM, "On")
  field(OUT, "@asynMask(modbus_M2:ecr_Bit0 0 1 0)MODBUS_DATA")
}

record(bo, LEBT:RC_PS:OFF) {
  field(DESC, "Cde OFF RC_PS")
  field(DTYP, "asynUInt32Digital")
  field(OMSL, "supervisory")
  field(OUT, "@asynMask(modbus_M2:ecr_Bit1 0 1 0)MODBUS_DATA")
}

record(ao, LEBT:RC_PS:ISet) {
  field(DESC, "ecriture Cde analog")
  field(DTYP, "Soft Channel")
  field(OMSL, "supervisory")
  field(DRVH, "10")
  field(DRVL, "0")
  field(HOPR, "10")
  field(LOPR, "0")
  field(FLNK, "LEBT:RC_PS:Icalcout")
  field(EGU, "mA")
}

record(calcout, LEBT:RC_PS:Icalcout) {
  field(CALC, "(B*A)/C")
  field(INPA, "LEBT:RC_PS:ISet.VAL")
  field(INPB, "30000")
  field(INPC, "10")
  field(DTYP, "Soft Channel")
  field(FLNK, "LEBT:RC_PS:IOut")
}

record(ai, LEBT:RC_PS:IRdbk) {
  field(DESC, "Lecture mot")
  field(SCAN, "2 second")
  field(DTYP, "asynInt32")
  field(INP, "@asyn(modbus_M2:lect_AI 2)MODBUS_DATA")
  field(FLNK, "LEBT:RC_PS:IRdbkcalc")
}

record(calc, LEBT:RC_PS:IRdbkcalc) {
  field(CALC, "(A*B)/C")
  field(INPA, "LEBT:RC_PS:IRdbk.VAL")
  field(INPB, "1")
  field(INPC, "30000")
  field(PREC, "2")
}

record(ao, LEBT:RC_PS:VSet) {
  field(DESC, "ecriture Cde analog")
  field(DTYP, "Soft Channel")
  field(OMSL, "supervisory")
  field(DRVH, "3")
  field(DRVL, "0")
  field(HOPR, "3")
  field(LOPR, "0")
  field(FLNK, "LEBT:RC_PS:Vcalcout")
  field(EGU, "kV")
}

record(calcout, LEBT:RC_PS:Vcalcout) {
  field(CALC, "(B*A)/C")
  field(INPA, "LEBT:RC_PS:VSet.VAL")
  field(INPB, "30000")
  field(INPC, "3")
  field(DTYP, "Soft Channel")
  field(FLNK, "LEBT:RC_PS:VOut")
}

record(ao, LEBT:RC_PS:VOut) {
  field(DTYP, "asynInt32")
  field(OUT, "@asyn(modbus_M2:ecr_AO1 00)MODBUS_DATA")
  field(DOL, "LEBT:RC_PS:Vcalcout.VAL")
  field(OMSL, "closed_loop")
  field(DRVH, "32000")
  field(DRVL, "0")
}

record(ai, LEBT:RC_PS:VRdbk) {
  field(DESC, "Lecture mot")
  field(SCAN, "2 second")
  field(DTYP, "asynInt32")
  field(INP, "@asyn(modbus_M2:lect_AI 1)MODBUS_DATA")
  field(FLNK, "LEBT:RC_PS:VRdbkcalc")
}

record(calc, LEBT:RC_PS:VRdbkcalc) {
  field(CALC, "(A*B)/C")
  field(INPA, "LEBT:RC_PS:VRdbk.VAL")
  field(INPB, "3")
  field(INPC, "30000")
  field(PREC, "2")
  field(EGU, "kV")
}

record(ai, LEBT:RC_PS:Status) {
  field(DESC, "lect status")
  field(SCAN, "2 second")
  field(DTYP, "asynInt32")
  field(INP, "@asyn(modbus_M2:lect_status 0)MODBUS_DATA")
}

record(ao, LEBT:RC_PS:IOut) {
  field(DTYP, "asynInt32")
  field(OUT, "@asyn(modbus_M2:ecr_AO2 00)MODBUS_DATA")
  field(DOL, "LEBT:RC_PS:Icalcout.VAL")
  field(OMSL, "closed_loop")
  field(DRVH, "32000")
  field(DRVL, "0")
}


