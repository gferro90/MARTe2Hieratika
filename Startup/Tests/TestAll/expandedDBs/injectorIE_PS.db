#! Generated by VisualDCT v2.6
#! DBDSTART
#! DBD("/home/ifmifmgr/topIFMIF/dbd/injector.dbd")
#! DBDEND


record(ao, SRC:IE_PS:ISet) {
  field(DESC, "ecriture Cde analog")
  field(DTYP, "Soft Channel")
  field(OMSL, "supervisory")
  field(DRVH, "20")
  field(DRVL, "0")
  field(HOPR, "20")
  field(LOPR, "0")
  field(FLNK, "SRC:IE_PS:Icalcout")
  field(EGU, "mA")
}

record(ai, SRC:IE_PS:Status) {
  field(DESC, "lect status")
  field(SCAN, "2 second")
  field(DTYP, "asynInt32")
  field(INP, "@asyn(modbus_HT:lect_status 0)MODBUS_DATA")
}

record(bo, SRC:IE_PS:OnCmd) {
  field(DESC, "Cde ON IE_PS")
  field(DTYP, "asynUInt32Digital")
  field(OMSL, "supervisory")
  field(OUT, "@asynMask(modbus_HT:ecr_Bit0 0 1 0)MODBUS_DATA")
  field(HIGH, "2")
}

record(bo, SRC:IE_PS:OffCmd) {
  field(DESC, "Cde OFF IE_PS")
  field(DTYP, "asynUInt32Digital")
  field(OMSL, "supervisory")
  field(OUT, "@asynMask(modbus_HT:ecr_Bit1 0 1 0)MODBUS_DATA")
  field(HIGH, "2")
}

record(bo, SRC:IE_PS:RstCmd) {
  field(DESC, "Cde reset IE_PS")
  field(DTYP, "asynUInt32Digital")
  field(OMSL, "supervisory")
  field(OUT, "@asynMask(modbus_HT:ecr_Bit6 0 1 0)MODBUS_DATA")
  field(HIGH, "2")
}

record(ao, SRC:IE_PS:VSet) {
  field(DESC, "ecriture Cde analog")
  field(DTYP, "Soft Channel")
  field(OMSL, "supervisory")
  field(DRVH, "50")
  field(DRVL, "0")
  field(HOPR, "50")
  field(LOPR, "0")
  field(PREC, "2")
  field(FLNK, "SRC:IE_PS:Vcalcout")
  field(EGU, "kV")
}

record(ai, SRC:IE_PS:IRdbk) {
  field(DESC, "Lecture mot")
  field(SCAN, "2 second")
  field(DTYP, "asynInt32")
  field(INP, "@asyn(modbus_HT:lect_AI 2)MODBUS_DATA")
  field(FLNK, "SRC:IE_PS:IRdbkcalc")
}

record(ai, SRC:IE_PS:VRdbk) {
  field(DESC, "Lecture mot")
  field(SCAN, "2 second")
  field(DTYP, "asynInt32")
  field(INP, "@asyn(modbus_HT:lect_AI 1)MODBUS_DATA")
  field(FLNK, "SRC:IE_PS:VRdbkcalc")
}

record(calcout, SRC:IE_PS:Vcalcout) {
  field(DTYP, "Soft Channel")
  field(FLNK, "SRC:IE_PS:VOut")
  field(CALC, "(A*B)/C")
  field(INPA, "SRC:IE_PS:VSet")
  field(INPB, "30000")
  field(INPC, "50")
  field(PREC, "2")
}

record(ao, SRC:IE_PS:VOut) {
  field(DTYP, "asynInt32")
  field(OUT, "@asyn(modbus_HT:ecr_AO1 0 0)MODBUS_DATA")
  field(DOL, "SRC:IE_PS:Vcalcout.VAL")
  field(DRVH, "32000")
  field(DRVL, "0")
  field(OMSL, "closed_loop")
}

record(calc, SRC:IE_PS:VRdbkcalc) {
  field(INPA, "SRC:IE_PS:VRdbk")
  field(INPB, "50")
  field(INPC, "30000")
  field(PREC, "2")
  field(CALC, "(A*B)/C")
  field(EGU, "kV")
}

record(calcout, SRC:IE_PS:Icalcout) {
  field(DTYP, "Soft Channel")
  field(FLNK, "SRC:IE_PS:IOut")
  field(CALC, "(A*B)/C")
  field(INPA, "SRC:IE_PS:ISet")
  field(INPB, "30000")
  field(INPC, "20")
  field(PREC, "2")
}

record(ao, SRC:IE_PS:IOut) {
  field(DTYP, "asynInt32")
  field(OUT, "@asyn(modbus_HT:ecr_AO2 0 0)MODBUS_DATA")
  field(DOL, "SRC:IE_PS:Icalcout.VAL")
  field(OMSL, "closed_loop")
  field(DRVH, "32000")
  field(DRVL, "0")
}

record(calc, SRC:IE_PS:IRdbkcalc) {
  field(CALC, "(A*B)/C")
  field(INPA, "SRC:IE_PS:IRdbk")
  field(INPB, "20")
  field(INPC, "30000")
  field(PREC, "2")
  field(EGU, "mA")
}


record(ai, SRC:IE_PS:ISetRdbk) {
  field(DESC, "Lecture mot")
  field(SCAN, "2 second")
  field(DTYP, "asynInt32")
  field(INP, "@asyn(modbus_HT:lect_AI 2)MODBUS_DATA")
  field(FLNK, "SRC:IE_PS:RdbkCalcI")
}

record(calc, SRC:IE_PS:RdbkCalcI) {
  field(CALC, "(A*B)/C")
  field(INPA, "SRC:IE_PS:ISetRdbk.VAL")
  field(INPB, "20")
  field(INPC, "30000")
  field(PREC, "2")
  field(EGU, "mA")
}


