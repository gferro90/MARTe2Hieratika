#! Generated by VisualDCT v2.6
#! DBDSTART
#! DBD("/home/ifmifmgr/topIFMIF/dbd/injector.dbd")
#! DBDEND


record(bo, "LEBT:HV_PS:Reset") {
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(HIGH, "2")
  field(OUT, "@injectorFUG120kV_proto.db Reset FUG_120kV")
}

record(bo, "LEBT:HV_PS:AuxOnCmd") {
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(HIGH, "2")
  field(OUT, "@injectorFUG120kV_proto.db ON_Aux FUG_120kV")
}

record(bo, "LEBT:HV_PS:AuxOffCmd") {
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(HIGH, "2")
  field(OUT, "@injectorFUG120kV_proto.db OFF_Aux FUG_120kV")
}

record(bo, "LEBT:HV_PS:HTOnCmd") {
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(HIGH, "2")
  field(OUT, "@injectorFUG120kV_proto.db ON_HT FUG_120kV")
}

record(bo, "LEBT:HV_PS:HTOffCmd") {
  field(DTYP, "stream")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(HIGH, "2")
  field(OUT, "@injectorFUG120kV_proto.db OFF_HT FUG_120kV")
}

record(ao, "LEBT:HV_PS:HTCmd") {
  field(DTYP, "Soft Channel")
  field(FLNK, "LEBT:HV_PS:CalcVHT")
  field(PREC, "1")
  field(EGUF, "120")
  field(EGU, "kV")
#  field(DRVH, "120")
  field(DRVH, "100")
  field(DRVL, "0")
#  field(HOPR, "120")
  field(HOPR, "100")
  field(LOPR, "0")
  field(ASLO, "1")
}

record(calc, "LEBT:HV_PS:CalcVHT") {
  field(FLNK, "LEBT:HV_PS:EcrVHT")
  field(CALC, "A*C")
  field(INPA, "LEBT:HV_PS:HTCmd")
  field(INPC, "1000")
}

record(ao, "LEBT:HV_PS:EcrVHT") {
  field(DTYP, "stream")
  field(OUT, "@injectorFUG120kV_proto.db set_V FUG_120kV")
  field(DOL, "LEBT:HV_PS:CalcVHT NPP NMS")
  field(OMSL, "closed_loop")
}

record(ao, "LEBT:HV_PS:ICmd") {
  field(DTYP, "Soft Channel")
  field(FLNK, "LEBT:HV_PS:CalcI")
  field(PREC, "1")
  field(EGUF, "250")
  field(EGU, "mA")
  field(DRVH, "250")
  field(DRVL, "0")
  field(HOPR, "250")
  field(LOPR, "0")
  field(ASLO, "1")
}

record(calc, "LEBT:HV_PS:CalcI") {
  field(FLNK, "LEBT:HV_PS:EcrI")
  field(CALC, "A/B")
  field(INPA, "LEBT:HV_PS:ICmd")
  field(INPB, "1000")
}

record(ao, "LEBT:HV_PS:EcrI") {
  field(DTYP, "stream")
  field(OUT, "@injectorFUG120kV_proto.db set_I FUG_120kV")
  field(DOL, "LEBT:HV_PS:CalcI")
  field(OMSL, "closed_loop")
}


record(stringout, "LEBT:HV_PS:IniTinteg") {
  field(DESC, "integ time")
  field(PINI, "YES")
  field(DTYP, "stream")
  field(VAL, "S6")
  field(OUT, "@injectorFUG120kV_proto.db AD_rate FUG_120kV")
}

record(stringout, "LEBT:HV_PS:CmdMesI") {
  field(DESC, "mes I")
  field(SCAN, "2 second")
  field(FLNK, "LEBT:HV_PS:DelayI")
  field(DTYP, "stream")
  field(VAL, "M1")
  field(OUT, "@injectorFUG120kV_proto.db Mesure_I FUG_120kV")
}

record(calcout, "LEBT:HV_PS:DelayI") {
  field(CALC, "((A=B)?1:0)")
  field(INPA, "100")
  field(INPB, "100")
  field(ODLY, "1")
}

record(ai, "LEBT:HV_PS:LectVht") {
  field(DESC, "lec V")
  field(DTYP, "stream")
  field(FLNK, "LEBT:HV_PS:ScaleVHT")
  field(SCAN, "2 second")
  field(INP, "@injectorFUG120kV_proto.db lecture_Vht FUG_120kV")
}

record(calcout, "LEBT:HV_PS:ScaleVHT") {
  field(DESC, "scaling de VHt")
  field(CALC, "(A/B)")
  field(INPA, "LEBT:HV_PS:LectVht")
  field(INPB, "1000")
  field(PREC, "1")
}

record(ai, "LEBT:HV_PS:LectIht") {
  field(DESC, "lect I")
  field(DTYP, "stream")
  field(FLNK, "LEBT:HV_PS:ScaleIHT")
  field(SCAN, "2 second")
  field(INP, "@injectorFUG120kV_proto.db lecture_Iht FUG_120kV")
}

record(calcout, "LEBT:HV_PS:ScaleIHT") {
  field(DESC, "scaling de IHt")
  field(CALC, "(A*B)")
  field(INPA, "LEBT:HV_PS:LectIht")
  field(INPB, "1000")
  field(PREC, "1")
}


