#! Generated by VisualDCT v2.6
#! DBDSTART
#! DBD("../../dbd/emit.dbd")
#! DBDEND


record(calc, "$(DEVICE):Vht") {
  field(DESC, "VHT")
  field(CALC, "A-B")
  field(INPA, "LEBT:EMIT_PS1:VSet NPP NMS")
  field(INPB, "LEBT:EMIT_PS2:VSet NPP NMS")
  field(SCAN, ".1 second")
  field(EGU, "V")
  field(HOPR, "10000")
  field(LOPR, "-10000")
}

record(ao, "$(DEVICE):Vpic") {
  field(DESC, "Vpic")
  field(DTYP, "Soft Channel")
  field(EGU, "V")
  field(HOPR, "10000")
  field(LOPR, "-10000")
  field(PINI, "YES")
  field(DOL, "0")
}

record(calc, "$(DEVICE):VhtRdbk") {
  field(DESC, "VHT")
  field(CALC, "A-B")
  field(INPA, "LEBT:EMIT_PS1:VRdbk NPP NMS")
  field(INPB, "LEBT:EMIT_PS2:VRdbk NPP NMS")
  field(SCAN, ".1 second")
  field(EGU, "V")
  field(HOPR, "10000")
  field(LOPR, "-10000")
}

record(ao, "$(DEVICE):Vstart") {
  field(DESC, "Vstart")
  field(DTYP, "Soft Channel")
  field(EGU, "V")
  field(HOPR, "5000")
  field(LOPR, "-5000")
}

record(ao, "$(DEVICE):Energy") {
  field(DESC, "Vstart")
  field(DTYP, "Soft Channel")
  field(EGU, "keV")
  field(PINI, "YES")
  field(DRVH, "200")
  field(HOPR, "200")
  field(DOL, "50")
}

record(ao, "$(DEVICE):Vend") {
  field(DESC, "Vstart")
  field(DTYP, "Soft Channel")
  field(EGU, "V")
  field(HOPR, "5000")
  field(LOPR, "-5000")
}

record(ao, "$(DEVICE):Vstep") {
  field(DESC, "Vstart")
  field(DTYP, "Soft Channel")
  field(EGU, "V")
  field(HOPR, "1000")
  field(LOPR, "0")
}

record(ao, "$(DEVICE):Mstep") {
  field(DESC, "Vstart")
  field(DTYP, "Soft Channel")
  field(EGU, "mm")
  field(HOPR, "20")
  field(LOPR, "0")
  field(PREC, "1")
}

record(ao, "$(DEVICE):Debscanl") {
  field(DESC, "debut")
  field(PINI, "YES")
  field(DTYP, "Soft Channel")
  field(DOL, "5000")
  field(PREC, "0")
  field(EGU, "V")
  field(HOPR, "5000")
  field(LOPR, "-5000")
}

record(ao, "$(DEVICE):Finscanl") {
  field(DESC, "fin")
  field(PINI, "YES")
  field(DTYP, "Soft Channel")
  field(DOL, "-5000")
  field(PREC, "0")
  field(EGU, "V")
  field(HOPR, "5000")
  field(LOPR, "-5000")
}

record(ao, "$(DEVICE):Passcanl") {
  field(DESC, "pas")
  field(PINI, "YES")
  field(DTYP, "Soft Channel")
  field(DOL, "100")
  field(PREC, "0")
  field(EGU, "V")
  field(HOPR, "2000")
  field(LOPR, "1")
}

record(ao, "$(DEVICE):Pasald") {
  field(DESC, "pas")
  field(PINI, "YES")
  field(DTYP, "Soft Channel")
  field(DOL, "100")
  field(PREC, "0")
  field(EGU, "V")
  field(HOPR, "1000")
  field(LOPR, "1")
}

record(calcout, "$(DEVICE):Nptscanl") {
  field(SCAN, "2 second")
  field(CALC, "(ABS(A)+ABS(B))/ABS(C)")
  field(INPA, "$(DEVICE):Debscanl.VAL PP")
  field(INPB, "$(DEVICE):Finscanl.VAL PP")
  field(INPC, "$(DEVICE):Passcanl.VAL PP")
}

record(calcout, "$(DEVICE):Nptdet") {
  field(SCAN, "2 second")
  field(CALC, "(ABS(A)+ABS(B))/ABS(C)")
  field(INPA, "$(DEVICE):Debscanl.VAL")
  field(INPB, "$(DEVICE):Finscanl.VAL")
  field(INPC, "$(DEVICE):Pasald.VAL")
}

record(bo, "$(DEVICE):Actemit") {
  field(DESC, "mesEmit")
  field(DTYP, "Soft Channel")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
}

record(bo, "$(DEVICE):Actscan") {
  field(DESC, "scanLarge")
  field(DTYP, "Soft Channel")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
}

record(bo, "$(DEVICE):Actupper") {
  field(DESC, "detectUp")
  field(DTYP, "Soft Channel")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
}

record(bo, "$(DEVICE):Actlower") {
  field(DESC, "findBeamLow")
  field(DTYP, "Soft Channel")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
}

record(ao, "$(DEVICE):Pasmotdet") {
  field(DESC, "pas")
  field(PINI, "YES")
  field(DTYP, "Soft Channel")
  field(DOL, "1")
  field(EGU, "mm")
  field(HOPR, "150")
  field(LOPR, "0")
  field(PREC, "1")
}

record(ao, "$(DEVICE):Razgraph") {
  field(DESC, "raz")
  field(DTYP, "Soft Channel")
  field(HOPR, "100")
  field(LOPR, "0")
  field(PINI, "YES")
  field(DOL, "1")
}

record(ao, "$(DEVICE):Deltav") {
  field(DESC, "deltaV")
  field(DTYP, "Soft Channel")
  field(EGU, "V")
  field(HOPR, "10000")
  field(LOPR, "0")
  field(PINI, "YES")
  field(DOL, "2000")
}

record(ao, "$(DEVICE):Borderup") {
  field(DESC, "border")
  field(DTYP, "Soft Channel")
  field(EGU, "mm")
  field(HOPR, "180")
  field(LOPR, "1")
  field(PINI, "YES")
  field(DOL, "40")
}

record(ao, "$(DEVICE):Limdet") {
  field(DESC, "limit")
  field(PINI, "YES")
  field(DTYP, "Soft Channel")
  field(DOL, "50")
  field(EGU, "mm")
  field(HOPR, "180")
  field(LOPR, "0")
}

record(bo, "$(DEVICE):Pausemit") {
  field(DESC, "pause")
  field(DTYP, "Soft Channel")
  field(ZNAM, "pause")
  field(ONAM, "pause")
}

record(ao, "$(DEVICE):Borderlow") {
  field(DESC, "border")
  field(DTYP, "Soft Channel")
  field(EGU, "mm")
  field(HOPR, "180")
  field(LOPR, "1")
  field(PINI, "YES")
  field(DOL, "120")
}

record(bo, "$(DEVICE):Savescan") {
  field(DESC, "save")
  field(DTYP, "Soft Channel")
  field(ZNAM, "save")
  field(ONAM, "save")
}

record(stringin, "$(DEVICE):Scantext") {
  field(DESC, "scan")
  field(DTYP, "Soft Channel")
}

record(bo, "$(DEVICE):Savemit") {
  field(DESC, "save")
  field(DTYP, "Soft Channel")
  field(ZNAM, "save")
  field(ONAM, "save")
}

record(stringin, "$(DEVICE):Emitext") {
  field(DESC, "scan")
  field(DTYP, "Soft Channel")
}

record(ao, "$(DEVICE):Emufic") {
  field(DESC, "ibeam")
  field(DTYP, "Soft Channel")
}

record(ao, "$(DEVICE):Upper") {
  field(DESC, "upper")
  field(DTYP, "Soft Channel")
  field(EGU, "mm")
  field(HOPR, "200")
  field(LOPR, "-200")
}

record(ao, "$(DEVICE):Lower") {
  field(DESC, "Vstart")
  field(DTYP, "Soft Channel")
  field(EGU, "mm")
  field(HOPR, "200")
  field(LOPR, "-200")
}

record(bo, "$(DEVICE):Validate") {
  field(DESC, "validate")
  field(DTYP, "Soft Channel")
  field(ZNAM, "validate")
  field(ONAM, "validate")
}

record(ao, "$(DEVICE):Nptemit") {
  field(DESC, "Npoints")
  field(DTYP, "Soft Channel")
  field(HOPR, "500")
  field(LOPR, "0")
  field(PINI, "YES")
  field(DOL, "100")
}

record(calc, "$(DEVICE):Compteur1") {
  field(SCAN, "1 second")
  field(CALC, "(A<B?A+1:A=0)")
  field(INPA, "$(DEVICE):Compteur1.VAL")
  field(INPB, "100")
  field(EGU, "sec")
}

#! Further lines contain data used by VisualDCT
#! View(0,220,1.1)
#! Record("$(DEVICE):Vht",760,651,0,1,"$(DEVICE):Vht")
#! Field("$(DEVICE):Vht.INPA",16777215,1,"$(DEVICE):Vht.INPA")
#! Field("$(DEVICE):Vht.INPB",16777215,1,"$(DEVICE):Vht.INPB")
#! Record("$(DEVICE):Vpic",940,306,0,1,"$(DEVICE):Vpic")
#! Record("$(DEVICE):VhtRdbk",940,651,0,1,"$(DEVICE):VhtRdbk")
#! Field("$(DEVICE):VhtRdbk.INPA",16777215,1,"$(DEVICE):VhtRdbk.INPA")
#! Field("$(DEVICE):VhtRdbk.INPB",16777215,1,"$(DEVICE):VhtRdbk.INPB")
#! Record("$(DEVICE):Vstart",1680,34,0,1,"$(DEVICE):Vstart")
#! Record("$(DEVICE):Energy",1680,346,0,1,"$(DEVICE):Energy")
#! Record("$(DEVICE):Vend",1860,34,0,1,"$(DEVICE):Vend")
#! Record("$(DEVICE):Vstep",2040,34,0,1,"$(DEVICE):Vstep")
#! Record("$(DEVICE):Mstep",2040,200,0,1,"$(DEVICE):Mstep")
#! Record("$(DEVICE):Debscanl",20,31,0,1,"$(DEVICE):Debscanl")
#! Field("$(DEVICE):Debscanl.VAL",16777215,1,"$(DEVICE):Debscanl.VAL")
#! Visibility("$(DEVICE):Debscanl.LOPR",1)
#! Record("$(DEVICE):Finscanl",20,231,0,1,"$(DEVICE):Finscanl")
#! Field("$(DEVICE):Finscanl.VAL",16777215,1,"$(DEVICE):Finscanl.VAL")
#! Visibility("$(DEVICE):Finscanl.HOPR",1)
#! Record("$(DEVICE):Passcanl",20,431,0,1,"$(DEVICE):Passcanl")
#! Field("$(DEVICE):Passcanl.VAL",16777215,1,"$(DEVICE):Passcanl.VAL")
#! Record("$(DEVICE):Pasald",20,651,0,1,"$(DEVICE):Pasald")
#! Field("$(DEVICE):Pasald.VAL",16777215,1,"$(DEVICE):Pasald.VAL")
#! Record("$(DEVICE):Nptscanl",380,434,0,1,"$(DEVICE):Nptscanl")
#! Field("$(DEVICE):Nptscanl.INPA",16777215,0,"$(DEVICE):Nptscanl.INPA")
#! Link("$(DEVICE):Nptscanl.INPA","LEBT:EMIT:nPointScanLarge/INPA")
#! Field("$(DEVICE):Nptscanl.INPB",16777215,0,"$(DEVICE):Nptscanl.INPB")
#! Link("$(DEVICE):Nptscanl.INPB","LEBT:EMIT:nPointScanLarge/INPB")
#! Field("$(DEVICE):Nptscanl.INPC",16777215,0,"$(DEVICE):Nptscanl.INPC")
#! Link("$(DEVICE):Nptscanl.INPC","$(DEVICE):Passcanl.VAL")
#! Connector("LEBT:EMIT:nPointScanLarge/INPB","$(DEVICE):Finscanl.VAL",280,500,16777215,"",0)
#! Connector("LEBT:EMIT:nPointScanLarge/INPA","$(DEVICE):Debscanl.VAL",300,390,16777215,"",0)
#! Record("$(DEVICE):Nptdet",380,654,0,1,"$(DEVICE):Nptdet")
#! Field("$(DEVICE):Nptdet.INPA",16777215,0,"$(DEVICE):Nptdet.INPA")
#! Link("$(DEVICE):Nptdet.INPA","$(DEVICE):Debscanl.VAL")
#! Field("$(DEVICE):Nptdet.INPB",16777215,0,"$(DEVICE):Nptdet.INPB")
#! Link("$(DEVICE):Nptdet.INPB","LEBT:EMIT:nPointDetec/INPB")
#! Field("$(DEVICE):Nptdet.INPC",16777215,0,"$(DEVICE):Nptdet.INPC")
#! Link("$(DEVICE):Nptdet.INPC","$(DEVICE):Pasald.VAL")
#! Connector("LEBT:EMIT:nPointDetec/INPB","$(DEVICE):Finscanl.VAL",260,610,16777215,"",0)
#! Record("$(DEVICE):Actemit",400,28,0,1,"$(DEVICE):Actemit")
#! Record("$(DEVICE):Actscan",580,28,0,1,"$(DEVICE):Actscan")
#! Record("$(DEVICE):Actupper",760,28,0,1,"$(DEVICE):Actupper")
#! Record("$(DEVICE):Actlower",940,28,0,1,"$(DEVICE):Actlower")
#! Record("$(DEVICE):Pasmotdet",580,311,0,1,"$(DEVICE):Pasmotdet")
#! Record("$(DEVICE):Razgraph",580,680,0,1,"$(DEVICE):Razgraph")
#! Record("$(DEVICE):Deltav",760,306,0,1,"$(DEVICE):Deltav")
#! Record("$(DEVICE):Borderup",760,486,0,1,"$(DEVICE):Borderup")
#! Record("$(DEVICE):Limdet",580,506,0,1,"$(DEVICE):Limdet")
#! Record("$(DEVICE):Pausemit",940,168,0,1,"$(DEVICE):Pausemit")
#! Record("$(DEVICE):Borderlow",940,486,0,1,"$(DEVICE):Borderlow")
#! Record("$(DEVICE):Savescan",1320,48,0,1,"$(DEVICE):Savescan")
#! Record("$(DEVICE):Scantext",1320,196,0,1,"$(DEVICE):Scantext")
#! Record("$(DEVICE):Savemit",1500,48,0,1,"$(DEVICE):Savemit")
#! Record("$(DEVICE):Emitext",1500,196,0,1,"$(DEVICE):Emitext")
#! Record("$(DEVICE):Emufic",1320,356,0,1,"$(DEVICE):Emufic")
#! Visibility("$(DEVICE):Emufic.DESC",1)
#! Record("$(DEVICE):Upper",1680,194,0,1,"$(DEVICE):Upper")
#! Record("$(DEVICE):Lower",1860,194,0,1,"$(DEVICE):Lower")
#! Record("$(DEVICE):Validate",1860,348,0,1,"$(DEVICE):Validate")
#! Record("$(DEVICE):Nptemit",2220,40,0,1,"$(DEVICE):Nptemit")
#! Record("$(DEVICE):Compteur1",2560,34,0,1,"$(DEVICE):Compteur1")
#! Field("$(DEVICE):Compteur1.VAL",16777215,0,"$(DEVICE):Compteur1.VAL")
#! Field("$(DEVICE):Compteur1.INPA",16777215,0,"$(DEVICE):Compteur1.INPA")
#! Link("$(DEVICE):Compteur1.INPA","LEBT:EMIT:compteur1/INPA")
#! Connector("LEBT:EMIT:compteur1/INPA","$(DEVICE):Compteur1.VAL",2480,180,16777215,"",0)
